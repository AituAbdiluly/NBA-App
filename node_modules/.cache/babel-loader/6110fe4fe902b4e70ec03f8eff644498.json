{"ast":null,"code":"import _toConsumableArray from \"/home/masterwork33/Desktop/NBA-App/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/masterwork33/Desktop/NBA-App/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/masterwork33/Desktop/NBA-App/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/masterwork33/Desktop/NBA-App/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/masterwork33/Desktop/NBA-App/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/masterwork33/Desktop/NBA-App/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/masterwork33/Desktop/NBA-App/src/components/widgets/VideoList/VideoList.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { URL } from '../../../config';\nimport Button from '../Buttons/Button';\nimport './videoList.css';\nimport VideosTemplate from './VideosTemplate';\n\nvar VideoList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(VideoList, _Component);\n\n  function VideoList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, VideoList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(VideoList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      teams: [],\n      videos: [],\n      start: _this.props.start,\n      end: _this.props.start + _this.props.amount,\n      amount: _this.props.amount\n    };\n\n    _this.request = function (start, end) {\n      if (_this.state.teams.length < 1) {\n        axios.get(\"\".concat(URL, \"/teams\")).then(function (response) {\n          _this.setState({\n            teams: response.data\n          });\n        });\n      }\n\n      axios.get(\"\".concat(URL, \"/videos?_start=\").concat(start, \"&_end=\").concat(end)).then(function (response) {\n        _this.setState({\n          videos: [].concat(_toConsumableArray(_this.state.videos), _toConsumableArray(response.data)),\n          start: start,\n          end: end\n        });\n      });\n    };\n\n    _this.renderTitle = function (title) {\n      return title ? React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"NBA\"), \" Videos\") : null;\n    };\n\n    _this.renderVideos = function () {\n      var template = null;\n\n      switch (_this.props.type) {\n        case 'card':\n          template = React.createElement(VideosTemplate, {\n            data: _this.state.videos,\n            team: _this.state.teams,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          });\n          break;\n\n        default:\n          template = null;\n          break;\n      }\n\n      return template;\n    };\n\n    _this.loadMore = function () {\n      var end = _this.state.end + _this.state.amount;\n\n      _this.request(_this.state.end, end);\n    };\n\n    _this.renderBtn = function () {\n      return _this.props.loadmore ? React.createElement(Button, {\n        type: \"loadmore\",\n        cta: \"Load more videos\",\n        loadMore: function loadMore() {\n          return _this.loadMore();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }) : React.createElement(Button, {\n        type: \"linkTo\",\n        cta: \"More videos\",\n        linkTo: \"/videos\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(VideoList, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.request(this.state.start, this.state.end);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"videoList_wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, this.renderTitle(this.props.title), this.renderVideos(), this.renderBtn());\n    }\n  }]);\n\n  return VideoList;\n}(Component);\n\nexport default VideoList;","map":{"version":3,"sources":["/home/masterwork33/Desktop/NBA-App/src/components/widgets/VideoList/VideoList.js"],"names":["React","Component","axios","URL","Button","VideosTemplate","VideoList","state","teams","videos","start","props","end","amount","request","length","get","then","response","setState","data","renderTitle","title","renderVideos","template","type","loadMore","renderBtn","loadmore"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nimport {URL} from '../../../config';\nimport Button from '../Buttons/Button';\n\nimport './videoList.css';\n\nimport VideosTemplate from './VideosTemplate';\n\nclass VideoList extends Component {\n\n    state = {\n        teams: [],\n        videos: [],\n        start: this.props.start,\n        end: this.props.start + this.props.amount,\n        amount: this.props.amount\n    }\n\n    componentWillMount() {\n        this.request(this.state.start, this.state.end);\n    }\n\n    request = (start, end) => {\n        if(this.state.teams.length < 1){\n\n            axios.get(`${URL}/teams`)\n            .then(  response => {\n                this.setState({\n                    teams: response.data\n                })\n            })\n\n        }\n\n        axios.get(`${URL}/videos?_start=${start}&_end=${end}`)\n        .then( response => {\n            this.setState({\n                videos: [...this.state.videos, ...response.data],\n                start,\n                end\n            })\n        })\n    }\n\n\n    renderTitle = (title) =>{\n        return title ? \n        <h3><strong>NBA</strong> Videos</h3> \n        : \n        null\n    }\n\n    renderVideos = () => {\n        let template = null;\n\n        switch (this.props.type) {\n            case 'card':\n                template = <VideosTemplate \n                                data={this.state.videos} \n                                team={this.state.teams}\n                            />\n                break;\n        \n            default:\n                template = null;\n                break;\n        }\n\n        return template;\n    }\n\n    loadMore = () => {\n        let end = this.state.end + this.state.amount;\n        \n        this.request(this.state.end, end);\n    }\n\n    renderBtn = () => {\n        return this.props.loadmore ?\n        <Button\n            type='loadmore'\n            cta='Load more videos'\n            loadMore={() => this.loadMore()}\n        />\n        :\n        <Button \n            type=\"linkTo\"\n            cta=\"More videos\"\n            linkTo='/videos'\n        />\n    }\n\n    render() {\n        return (\n            <div className=\"videoList_wrapper\">\n                {this.renderTitle(this.props.title)}\n                {this.renderVideos()}\n                {this.renderBtn()}\n            </div>\n        );\n    }\n}\n\nexport default VideoList;"]},"metadata":{},"sourceType":"module"}